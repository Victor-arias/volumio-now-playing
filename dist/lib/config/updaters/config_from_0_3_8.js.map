{"version":3,"file":"config_from_0_3_8.js","sourceRoot":"","sources":["../../../../src/lib/config/updaters/config_from_0_3_8.ts"],"names":[],"mappings":";;;;;;AACA,gFAAyC;AAEzC;;;GAGG;AAEH,MAAM,UAAU,GAAG,OAAO,CAAC;AAE3B,SAAgB,MAAM;IACpB,MAAM,KAAK,GAAG,2BAAE,CAAC,cAAc,CAAC,OAAO,CAAQ,CAAC;IAChD,IAAI,OAAO,KAAK,KAAK,QAAQ,EAAE;QAC7B,2BAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,mDAAmD,CAAC,CAAC;QACzE,MAAM,QAAQ,GAAkB;YAC9B,MAAM,EAAE,KAAK;SACd,CAAC;QACF,2BAAE,CAAC,cAAc,CAAC,OAAO,EAAE,QAAQ,CAAC,CAAC;KACtC;IACD,2BAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,4CAA4C,UAAU,EAAE,CAAC,CAAC;IAC9E,2BAAE,CAAC,cAAc,CAAC,eAAe,EAAE,UAAU,CAAC,CAAC;IAC/C,2BAAE,CAAC,SAAS,EAAE,CAAC,IAAI,CAAC,+BAA+B,CAAC,CAAC;AACvD,CAAC;AAZD,wBAYC","sourcesContent":["import { ThemeSettings } from 'now-playing-common';\nimport np from '../../NowPlayingContext';\n\n/**\n * Update:\n * - `theme`: from string to { active: string; }\n */\n\nconst TO_VERSION = '0.4.0';\n\nexport function update() {\n  const theme = np.getConfigValue('theme') as any;\n  if (typeof theme === 'string') {\n    np.getLogger().info('[now-playing] Updating config value for \\'theme\\'');\n    const newTheme: ThemeSettings = {\n      active: theme\n    };\n    np.setConfigValue('theme', newTheme);\n  }\n  np.getLogger().info(`[now-playing] Updating config version to ${TO_VERSION}`);\n  np.setConfigValue('configVersion', TO_VERSION);\n  np.getLogger().info('[now-playing] Update complete');\n}\n"]}